# 基于STM32F103C8T6核心板的超声波测距程序

## 项目简介

本项目旨在实现一个基于STM32F103C8T6核心板及HY-SRF05超声波测距模块的简单测距系统。通过STM32单片机精确控制和处理信号，结合超声波模块的特性，能够在设定的有效范围内准确测量距离，并以板载LED作为直观反馈，当有物体进入预设距离内时，指示灯将自动点亮。

## 硬件需求

- **STM32F103C8T6核心板**：作为项目的主控单元，负责发送超声波触发信号、接收回波并计算距离。
- 8*HY-SRF05超声波测距模块**：利用超声波原理进行非接触式测距，有效范围一般在2cm至450cm之间。
- LED指示灯：用于视觉反馈，当检测到特定距离内的物体时点亮。
- USB线及编程器：用于程序的上传和调试。

## 软件框架

程序主要包含以下几个部分：

1. **初始化**：设置GPIO口（包括控制超声波模块的针脚和LED指示灯的针脚）和定时器，以确保能够准确地发送触发脉冲和接收回响信号。
2. **超声波控制**：利用STM32的定时功能发送一个40kHz的超声波触发脉冲，并开始计时，直到接收到回波停止计时，根据时间差和声速计算距离。
3. **距离计算**：依据超声波在空气中的传播速度(约340m/s)，通过计得的时间计算出目标物的距离。
4. **LED反馈**：根据计算的距离值，判断是否需要点亮LED指示灯，通常设定在一个特定的近距离阈值下亮灯。
5. **循环检测**：程序设计成循环执行，持续监测并更新测距结果，保证实时性。

## 使用说明

1. 下载提供的源代码包。
2. 使用STM32相关的IDE环境（如Keil MDK或STM32CubeIDE等）打开项目工程。
3. 根据具体的核心板配置，可能需要调整引脚映射等设置。
4. 编译无误后，通过USB编程器将程序烧录至STM32F103C8T6核心板。
5. 连接好超声波模块和LED，确保硬件连接正确。
6. 上电运行，即可开始超声波测距，观察LED指示灯的反应。

## 注意事项

- 测量精度受到多种因素影响，如温度、湿度、障碍物表面材质等。
- 实际应用中，可能需要校准以获得更精确的数据。
- 确保超声波模块的两脚（Trig和Echo）正确连接到STM32对应管脚上。

通过此项目的学习与实践，开发者可以深入了解STM32的GPIO操作、中断控制以及简单的外设交互编程技巧，同时掌握超声波测距的基本原理与应用。

## 下载链接
[基于STM32F103C8T6核心板的超声波测距程序](https://pan.quark.cn/s/447312359f5a) 

(备用: [备用下载](https://pan.baidu.com/s/1Q484mpSgQIcW4YpD1_1O5w?pwd=1234))

## 说明

该仓库仅用于学习交流，请勿用于商业用途。
